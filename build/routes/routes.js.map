{"version":3,"sources":["../../lunchyapp/routes/routes.js"],"names":["express","require","router","Router","passport","apiRoutes","group","get","req","res","body","user","console","log","sendFile","join","__dirname","use","post","authenticate","failureRedirect","send","logout","redirect","module","exports"],"mappings":";;AAKA;;;;;;AALA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,SAASF,QAAQG,MAAR,EAAf;AACA,IAAMC,WAAWH,QAAQ,UAAR,CAAjB;AACA,IAAMI,YAAYJ,QAAQ,OAAR,CAAlB;AACA,IAAMK,QAAQL,QAAQ,kBAAR,CAAd;;;AAIA;AACAC,OAAOK,GAAP,CAAW,GAAX,EAAgB,UAASC,GAAT,EAAcC,GAAd,EAAmB;AACjC;;AADiC,MAG3BC,IAH2B,GAGZF,GAHY,CAG3BE,IAH2B;AAAA,MAGrBC,IAHqB,GAGZH,GAHY,CAGrBG,IAHqB;;AAIjCC,UAAQC,GAAR,CAAY,QAAZ,EAAsBH,IAAtB,EAA4B,UAA5B,EAAwCC,IAAxC;;AAEAF,MAAIK,QAAJ,CAAa,eAAKC,IAAL,CAAUC,SAAV,EAAqB,gCAArB,CAAb;AACD,CAPD;;AAUA;AACAd,OAAOe,GAAP,CAAW,MAAX,EAAmBZ,SAAnB;;AAEA;AACAH,OAAOgB,IAAP,CAAY,QAAZ,EAAsBd,SAASe,YAAT,CAAsB,OAAtB,EAA+B;AACnDC,mBAAiB;AADkC,CAA/B,CAAtB,EAEI,UAASZ,GAAT,EAAcC,GAAd,EAAmB;AACjBG,UAAQC,GAAR,CAAY,SAAZ,EAAuBL,IAAIE,IAA3B;AACAD,MAAIY,IAAJ,CAASb,IAAIG,IAAb;AACD,CALL;;AAQA;AACAT,OAAOgB,IAAP,CAAY,SAAZ,EAAuBd,SAASe,YAAT,CAAsB,QAAtB,EAAgC;AACnDC,mBAAiB;AADkC,CAAhC,CAAvB,EAEI,UAASZ,GAAT,EAAcC,GAAd,EAAmB;;AAEjBG,UAAQC,GAAR,CAAY,6BAAZ;AACAD,UAAQC,GAAR,CAAY,UAAZ,EAAwBL,IAAIE,IAA5B;AACAE,UAAQC,GAAR,CAAY,6BAAZ;AACAJ,MAAIY,IAAJ,CAASb,IAAIG,IAAb;AACD,CARL;;AAWAT,OAAOK,GAAP,CAAW,SAAX,EAAsB,UAASC,GAAT,EAAcC,GAAd,EAAmB;AACrCD,MAAIc,MAAJ;AACAb,MAAIc,QAAJ,CAAa,GAAb;AACH,CAHD;;AAMAC,OAAOC,OAAP,GAAiBvB,MAAjB","file":"routes.js","sourcesContent":["const express = require('express');\nconst router = express.Router();\nconst passport = require('passport');\nconst apiRoutes = require(\"./api\");\nconst group = require(\"../config/groups\")\nimport path from 'path';\n\n\n//homepage\nrouter.get('/', function(req, res) {\n  // Display flash message, if any\n\n  let { body, user } = req;\n  console.log('home: ', body, ', user: ', user);\n\n  res.sendFile(path.join(__dirname, '../../client/public/index.html'));\n});\n\n\n//API routes\nrouter.use(\"/api\", apiRoutes);\n\n//Login\nrouter.post('/login', passport.authenticate('login', {\n  failureRedirect: '/login'\n}), function(req, res) {\n      console.log('login: ', req.body);\n      res.send(req.user);\n    }\n);\n\n//Signup\nrouter.post('/signup', passport.authenticate('signup', {\n    failureRedirect: '/signup'\n}), function(req, res) {\n\n      console.log('---------------------------');\n      console.log('signup: ', req.body);\n      console.log('---------------------------');\n      res.send(req.user)\n    }\n);\n\nrouter.get('/logout', function(req, res) {\n    req.logout();\n    res.redirect('/');\n});\n\n\nmodule.exports = router;\n"]}